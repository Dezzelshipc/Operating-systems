<!DOCTYPE html>
<html>
    <head>
        <title>Seconds temperature</title>
    </head>
    <body>
        <table>
            <tbody class="tab">
            </tbody>
        </table>
    </body>
    <script>

fetch("/sec/raw")
.then(response => {
    if (!response.ok) {

    }
    return response.text();
})
.then(data => {
    // console.log(data);
    el = document.getElementsByClassName("tab")[0]
    el.innerHTML = data.trim().split("\n")
        .map(line => {
            let splt = line.split(" ")
            d = splt[0]
            t = splt[1]
            d = new Date(parseInt(d) * 1000)
            return `<tr><td>${d.toLocaleString()}</td><td>${t}</td></tr>`
        }).join("");
        // .map(line => `<tr>${line.split(" ").map(x => `<td>${x}</td>`).join("")}</tr>`).join("")
    
    el.insertAdjacentHTML("afterbegin", `<tr><th>Time</th><th>Temp</th></tr>`);
})
    </script>
    <style>
        table {
            border-collapse: collapse;
        }
        td {
            padding: 6px;
            border: 2px black solid;
        }
    </style>
</html>